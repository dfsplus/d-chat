(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{710:function(e){e.exports=JSON.parse('{"name":"d-chat","version":"6.3.0","description":"Decentralized Chat on NKN","homepage":"http://losnappas.gitlab.io/d-chat","repository":{"type":"git","url":"https://gitlab.com/losnappas/d-chat"},"author":"","license":"MIT","bugs":{"url":"https://gitlab.com/losnappas/d-chat/issues"},"scripts":{"test":"echo \\"Error: no test specified\\" && exit 1","start:chrome":"npm run chrome-launch","start:firefox":"npm run firefox-launch","start:views":"APP_TARGET=WEB node scripts/start.js","dev":"APP_TARGET=EXT node scripts/dev.js","dev:ext":"APP_TARGET=EXT node scripts/dev.js","dev:web":"APP_TARGET=WEB node scripts/dev.js","build":"npm run i18n && BROWSERSLIST_CONFIG=./config/.browserslistrc-EXT APP_TARGET=EXT node scripts/build.js","build:web":"npm run i18n && BROWSERSLIST_CONFIG=./config/.browserslistrc-WEB APP_TARGET=WEB node scripts/build.js","build:pack":"npm run build && web-ext build -s extension --overwrite-dest","compress":"node scripts/compress","compress-keygen":"crx keygen","clean":"rimraf build/ dev/ dist/ extension/","lint":"eslint ./src ","lint:fix":"eslint ./src --fix","storybook":"start-storybook -p 6006","build-storybook":"build-storybook","chrome-launch":"node scripts/dev.js --browser=chrome","firefox-launch":"node scripts/dev.js --browser=firefox","i18n":"node scripts/i18n-remove.js && i18n-generate -d src/ -o src/_locales/en -l \'messages\' -p \' \' && node scripts/i18n.js"},"devDependencies":{"@babel/plugin-proposal-class-properties":"^7.14.5","@babel/plugin-transform-runtime":"^7.14.5","@babel/preset-env":"^7.14.7","@babel/preset-react":"^7.14.5","babel-eslint":"^9.0.0","copy-webpack-plugin":"^4.6.0","crx":"^5.0.1","css-loader":"^1.0.1","html-loader":"^0.5.5","html-webpack-plugin":"^4.5.2","i18n-webpack-plugin-generate-json":"^1.1.0","node-sass":"^4.14.1","react-dev-utils":"^7.0.5","react-icons":"^3.11.0","string-replace-loader":"^2.3.0","style-loader":"^0.23.1","terser-webpack-plugin":"^1.4.5","web-ext":"^4.3.0","webpack-cli":"^3.3.12","worker-injector-generator-plugin":"^1.0.4","worker-loader":"^2.0.0"},"dependencies":{"@babel/core":"^7.14.6","@babel/plugin-proposal-optional-chaining":"^7.14.5","@babel/runtime":"^7.14.6","@rooks/use-interval":"^3.6.0","@rooks/use-timeout":"^3.6.0","@sharyn/react-router.privateroute":"^1.0.3","@svgr/webpack":"2.4.1","b64-to-blob":"^1.2.19","babel-core":"7.0.0-bridge.0","babel-loader":"^8.2.2","babel-plugin-named-asset-import":"^0.3.7","babel-preset-react-app":"^7.0.2","base64mime":"0.0.3","bfj":"6.1.1","browser-passworder":"^2.0.3","bulma":"^0.8.2","bulma-dashboard":"^0.3.1","bulma-divider":"0.x","bulma-switch":"^2.0.0","bulma-tooltip":"^3.0.2","case-sensitive-paths-webpack-plugin":"2.1.2","chalk":"2.4.1","chrome-launch":"^1.1.4","classnames":"^2.3.1","codemirror":"^5.62.0","colors":"^1.4.0","debounce":"^1.2.1","dexie":"^3.0.3","dotenv":"6.0.0","dotenv-expand":"4.2.0","emoji-mart":"^3.0.1","eslint":"5.6.0","eslint-config-react-app":"^3.0.8","eslint-loader":"2.1.1","eslint-plugin-flowtype":"2.50.1","eslint-plugin-import":"2.14.0","eslint-plugin-jsx-a11y":"6.1.2","eslint-plugin-react":"7.11.1","execa":"^1.0.0","file-loader":"2.0.0","friendly-errors-webpack-plugin":"^1.7.0","fs-extra":"7.0.0","highlight.js":"^10.7.3","history":"^4.10.1","html-webpack-include-assets-plugin":"^1.0.10","identity-obj-proxy":"3.0.0","is-number":"^7.0.0","is-only-emojis":"^1.0.1","lodash.throttle":"^4.1.1","lodash.uniq":"^4.5.0","lodash.uniqby":"^4.7.0","marked":"^1.2.9","mini-css-extract-plugin":"0.4.3","nkn-permissioned-pubsub":"git+https://gitlab.com/losnappas/nkn-permissioned-pubsub.git","nkn-sdk":"^1.2.0","optimize-css-assets-webpack-plugin":"^5.0.8","ora":"^3.4.0","pnp-webpack-plugin":"1.1.0","postcss-flexbugs-fixes":"^4.2.1","postcss-loader":"^3.0.0","postcss-preset-env":"^6.7.0","postcss-safe-parser":"4.0.1","rc-table":"^6.10.15","react":"^16.14.0","react-app-polyfill":"^0.2.2","react-dom":"^16.14.0","react-infinite-scroller":"^1.2.4","react-markdown":"^4.3.1","react-modal":"^3.14.3","react-qr-svg":"^2.4.0","react-redux":"^7.2.4","react-resize-reporter":"^1.0.2","react-router-dom":"^5.2.0","react-simplemde-editor":"^4.1.5","react-stay-scrolled":"^7.3.1","react-timeago":"^4.4.0","redux":"^4.1.0","redux-devtools-extension":"^2.13.9","redux-thunk":"^2.3.0","redux-worker-middleware":"^1.0.0","resolve":"1.8.1","sanitize-html":"^1.27.5","sass-loader":"7.1.0","shasum":"^1.0.2","sleep-promise":"^8.0.1","striptags":"^3.2.0","truncate":"^2.1.0","url-loader":"1.1.1","uuid":"^8.3.2","webext-redux":"^2.1.7","webextension-polyfill":"^0.3.1","webpack":"^4.46.0","webpack-dev-server":"3.1.14","webpack-manifest-plugin":"2.0.4","yargs":"^12.0.5"}}')},821:function(e,a,t){"use strict";t.r(a);var n=t(9),l=t.n(n),r=t(17),s=t.n(r),c=t(3),i=t.n(c),o=t(1),m=t.n(o),d=t(45),u=t(22),p=t(4),b=function(){return null},v=t(19),E=t.n(v),h=t(701),f=function(e){var a=e.value;return m.a.createElement("div",{className:"x-qr-code"},m.a.createElement("span",{className:"x-qr-code-icon icon"},m.a.createElement(h.QRCode,{value:a,style:{width:"250px",height:"250px"}})))},N=t(58),g=function(e){var a=e.wallet,t=e.onSuccess,n=Object(o.useState)(""),l=s()(n,2),r=l[0],c=l[1],i=Object(o.useState)(""),d=s()(i,2),u=d[0],b=d[1];return m.a.createElement("div",{className:"form"},m.a.createElement("div",{className:"field"},m.a.createElement("div",{className:"control"},m.a.createElement("label",{className:"label"},Object(p.a)("Password"),m.a.createElement("span",{className:E()("x-is-transparent help is-danger is-inline x-visibility",{"x-has-opacity-1":!u})},u)),m.a.createElement("input",{placeholder:Object(p.a)("Password"),type:"password",className:"input text",onChange:function(e){return c(e.target.value)},value:r}))),m.a.createElement("div",{className:"field"},m.a.createElement("div",{className:"control"},m.a.createElement("a",{className:"button",onClick:function(){b("");try{var e=JSON.stringify(a),n=N.Wallet.fromJSON(e,{password:r});t(n)}catch(l){setTimeout((function(){return b(Object(p.a)("Wrong password."))}),0)}}},Object(p.a)("Show secret seed")))))},w=function(e){var a=e.wallet,t=Object(o.useState)(!1),n=s()(t,2),l=n[0],r=n[1],c=Object(o.useState)(""),i=s()(c,2),d=i[0],u=i[1],b=function(e){u(""),r(!1),null===e||void 0===e||e.preventDefault()};return m.a.createElement("div",{className:"buttons"},m.a.createElement("a",{className:"button",download:"".concat(a.Address,".json"),href:"data:text/plain;charset=utf-8,".concat(encodeURIComponent(JSON.stringify(a,null,2)))},Object(p.a)("Export wallet")),m.a.createElement("a",{className:"button",onClick:function(e){e.preventDefault(),r(!0)}},Object(p.a)("Show secret seed")),m.a.createElement("div",{className:E()("modal",{"is-active":l})},m.a.createElement("div",{className:"modal-background",onClick:b}),m.a.createElement("div",{className:"modal-content x-has-normal-scrollbar"},m.a.createElement("div",{className:"box"},d?m.a.createElement("div",{className:"section"},m.a.createElement("div",{className:"title"},Object(p.a)("Your Wallet Seed")),m.a.createElement("div",{className:"x-seed"},m.a.createElement(f,{value:d}),m.a.createElement("p",{className:"section has-text-black"},m.a.createElement("span",{className:"x-seed-text"},d))),m.a.createElement("div",{className:"content has-text-dark"},m.a.createElement("p",null,m.a.createElement("strong",null,Object(p.a)("Anyone with this seed can recover your account. Do not mishandle it."))),m.a.createElement("p",null,Object(p.a)("Use this seed for exporting/importing your D-Chat account between devices."))),m.a.createElement("a",{onClick:b,className:"button is-link"},Object(p.a)("OK"))):m.a.createElement(g,{onSuccess:function(e){return u(e.getSeed())},wallet:a}))),m.a.createElement("button",{onClick:b,className:"modal-close","aria-label":Object(p.a)("Close")})))},x=t(119),k=function(e){var a=e.children,t=e.openerButtonContent,n=e.openerButtonClassName,l=void 0===n?"button":n,r=Object(o.useState)(!1),c=s()(r,2),i=c[0],d=c[1],u=function(){return d(!1)};return Object(o.useEffect)((function(){return document.addEventListener("keydown",u),function(){document.removeEventListener("keydown",u)}}),[]),m.a.createElement(m.a.Fragment,null,m.a.createElement("a",{className:l,onClick:function(){return d(!0)}},t),m.a.createElement("div",{className:E()("modal",{"is-active":i})},m.a.createElement("div",{className:"modal-background",onClick:u}),m.a.createElement("div",{className:"modal-content"},m.a.createElement("div",{className:"box"},m.a.createElement("div",{className:"section"},a))),m.a.createElement("a",{onClick:u,className:"modal-close","aria-label":Object(p.a)("Close")})))},j=t(121),O=t(577),y=(t(708),function(e){var a=e.client,t=e.children,n=e.getBalance,l=Object(o.useState)(!1),r=s()(l,2),c=r[0],i=r[1],d=Object(O.a)((function(){n(a.wallet.Address)}),1e4).start;return Object(o.useEffect)((function(){d()}),[]),m.a.createElement("div",{className:"tile is-ancestor",style:{overflowWrap:"anywhere",wordBreak:"all"}},m.a.createElement("div",{className:"tile is-parent is-vertical"},m.a.createElement("div",{className:"tile"},m.a.createElement("div",{className:"field"},!c&&m.a.createElement("a",{className:"button is-link is-outlined is-size-7",title:Object(p.a)("Expands on click"),onClick:function(){return i(!0)}},Object(p.a)("Show more account information")))),c&&m.a.createElement("div",{className:"tile is-vertical"},m.a.createElement("div",{className:"tile is-child"},m.a.createElement("div",{className:"field"},m.a.createElement("div",{className:"label has-text-weight-normal level is-mobile"},m.a.createElement("span",{className:"level-left"},Object(p.a)("Wallet address"),m.a.createElement("span",{className:"icon tooltip is-size-5","data-tooltip":Object(p.a)("Share this for receiving NKN payments.")},m.a.createElement(x.b,{className:"is-size-5"}))),m.a.createElement("span",{className:"level-right"},m.a.createElement(k,{openerButtonClassName:"button level-item",openerButtonContent:m.a.createElement("span",{className:"icon",title:Object(p.a)("QR Code")},m.a.createElement(j.c,null))},m.a.createElement(f,{value:a.wallet.Address})))),m.a.createElement("p",{className:"x-address-broken x-address"},a.wallet.Address))),m.a.createElement("div",{className:"tile is-child"},m.a.createElement("div",{className:"field"},m.a.createElement(w,{wallet:a.wallet}))),m.a.createElement("div",{className:"tile is-child"},m.a.createElement("div",{className:"field"},m.a.createElement("p",{className:"is-size-7 has-text-grey-darker"},Object(p.a)("Wallet balance")),m.a.createElement("p",null,a.balance||"?"," NKN")),t),m.a.createElement("div",{className:"tile is-child"},m.a.createElement("div",{className:"field"},m.a.createElement(b,null))))))}),C=t(310),S=function(){return m.a.createElement("div",{className:"container"},m.a.createElement("p",{className:"field",style:{wordBreak:"keep-all"}},Object(p.a)("Come and say hi on channel")," ",m.a.createElement(C.a,{textWrapClassName:"is-inline",topic:"d-chat"}),"."),m.a.createElement("div",{className:"content"},m.a.createElement("p",null,Object(p.a)("D-Chat is also a browser extension.")),m.a.createElement("div",{className:"level"},m.a.createElement("div",{className:"level-left"},m.a.createElement("a",{className:"level-item",target:"_blank",href:"https://addons.mozilla.org/en-US/firefox/addon/d-chat/",rel:"noopener noreferrer"},m.a.createElement("img",{src:"img/AMO-button_1.png",alt:Object(p.a)("Get the add-on for Firefox")})),m.a.createElement("a",{className:"level-item button is-text is-white is-hovered is-outlined has-text-dark",title:Object(p.a)("For Chromium based browsers, Chrome webstore"),target:"_blank",href:"https://chrome.google.com/webstore/detail/d-chat/glnmkakdjcognfgonjfcklpmjiobijii",rel:"noopener noreferrer"},Object(p.a)("Get the add-on for Chrome")))),m.a.createElement("p",null,Object(p.a)("Using MS Edge? See instructions")+" ",m.a.createElement("a",{href:"https://winaero.com/blog/install-chrome-extensions-in-microsoft-edge-chromium/",rel:"noopener noreferrer",target:"_blank",title:Object(p.a)("Install Chrome extensions in Edge, winaero.com")},"https://winaero.com/blog/install-chrome-extensions-in-microsoft-edge-chromium/"))),m.a.createElement("div",{className:"content"},m.a.createElement("p",null,Object(p.a)("Source code on GitLab.")," ",m.a.createElement("a",{href:"https://gitlab.com/losnappas/d-chat",rel:"noopener noreferrer",target:"_blank"},"https://gitlab.com/losnappas/d-chat"))))},T=t(2),A=t(180),B=t(710),P=function(){return m.a.createElement("div",{className:"field"},m.a.createElement("p",{className:"is-size-7"},Object(p.a)("D-Chat version")),m.a.createElement("p",null,B.version))},R=t(55),_=t(59),W=t(312),z=function(e){var a=e.privateChat,t=Object(o.useState)(""),n=s()(t,2),l=n[0],r=n[1];return m.a.createElement("form",{className:"field",onSubmit:function(e){if(e.preventDefault(),l){var t=l,n=a;!n&&Object(T.w)(t)&&(n=!0,t=Object(T.k)(t));var s=n?Object(T.m)(l):Object(T.i)(l);A.a.push(s),r("")}}},m.a.createElement("div",{className:"control"},m.a.createElement("input",{placeholder:a?Object(p.a)("Contact address"):Object(p.a)("Topic"),value:l,type:"text",className:"input is-small",onChange:function(e){return r(e.target.value)},maxLength:"128"})))},G=function(e){var a=e.addr,t=Object(T.y)(a),n=s()(t,2),l=n[0],r=n[1];return m.a.createElement("span",{className:"x-address-broken x-address has-text-black"},m.a.createElement("span",{className:"x-address-identifier"},l),l&&".",m.a.createElement("span",{className:"x-address-pubkey"},r))};a.default=Object(u.b)((function(e){return{client:e.clients.find((function(e){return e.active}))}}),(function(e){return{getBalance:function(a){return e(Object(R.d)(a))},updateContact:function(a){return e(Object(_.d)(a))}}}))((function(e){var a=e.client,t=e.getBalance,n=e.updateContact,r=Object(o.useState)(null),c=s()(r,2),u=c[0],b=c[1],v=function(){var e=l()(i.a.mark((function e(t){var l,r,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b(null),r=null===(l=t.target.files)||void 0===l?void 0:l[0]){e.next=4;break}return e.abrupt("return");case 4:if(!(r.size>10240)){e.next=7;break}return b(m.a.createElement("span",{className:"help is-danger"},Object(p.a)("File too large. Max size is 10kb."))),e.abrupt("return");case 7:return e.next=9,new Promise((function(e,a){var t=new FileReader;t.onload=function(a){e(a.target.result)},t.onerror=a,t.readAsDataURL(r)}));case 9:s=e.sent,n({addr:a.addr,requestType:"response/full",content:{avatar:{type:"base64",data:s}}});case 11:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return m.a.createElement("div",{className:"container x-home"},m.a.createElement("div",{className:""},m.a.createElement("div",{className:""},m.a.createElement("div",{className:"section"},u,m.a.createElement("div",{className:"media"},m.a.createElement("div",{className:"media-left"},m.a.createElement("label",{htmlFor:"avatar-picker",className:"label is-relative x-avatar-picker-label"},m.a.createElement(W.a,{className:"is-128x128",addr:a.addr}),m.a.createElement("input",{title:Object(p.a)("Profile picture. Click to upload new."),type:"file",id:"avatar-picker",accept:"image/*",className:"is-overlay x-avatar-picker",onChange:v}))),m.a.createElement("div",{className:"media-content"},m.a.createElement("div",{className:"label has-text-weight-normal level is-mobile"},m.a.createElement("span",{className:"level-left"},Object(p.a)("Contact address")),m.a.createElement("span",{className:"level-right"},m.a.createElement(k,{openerButtonClassName:"button level-item",openerButtonContent:m.a.createElement("span",{className:"icon",title:Object(p.a)("QR Code")},m.a.createElement(j.c,null))},m.a.createElement(f,{value:a.addr})))),m.a.createElement("p",null,m.a.createElement(G,{addr:a.addr})))),m.a.createElement("hr",{className:"is-divider"}),m.a.createElement("div",{className:"field"},m.a.createElement("label",{className:"label has-text-weight-normal"},Object(p.a)("Join a chatroom")),m.a.createElement("div",{className:"control"},m.a.createElement(z,null))),m.a.createElement("div",{className:"field"},m.a.createElement("label",{className:"label has-text-weight-normal"},Object(p.a)("Private message")),m.a.createElement("div",{className:"control"},m.a.createElement(z,{privateChat:!0})))),m.a.createElement("div",{className:"section",style:{paddingTop:0}},m.a.createElement("div",{className:"content",style:{marginBottom:"0.5rem"}},m.a.createElement("p",null,m.a.createElement(d.b,{to:"/topics"},Object(p.a)("Public chat index"))),m.a.createElement(S,null),m.a.createElement("p",null,Object(p.a)("Give the mobile app a try!")," ",m.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://www.nkn.org/nMobile/"},Object(p.a)("nMobile on nkn.org")),". ",Object(p.a)("Send files over NKN!")," ",m.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://losnappas.gitlab.io/nkn-peertransfer"},Object(p.a)("NKN Peertransfer")),".")),a&&m.a.createElement(y,{client:a,getBalance:t},m.a.createElement(P,null))))))}))}}]);